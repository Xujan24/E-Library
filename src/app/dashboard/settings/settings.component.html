<p class="title"><span class="icon"><i class="far fa-address-card"></i></span> Profile Information</p>
<p class="subtitle">Change your current display name.</p>
<div class="message message-success has-close" [ngClass]="{'hidden': !show_success}">
    <div class="message-text">
        Your Display Name Changed Successfully.
    </div>
    <div class="close-btn">
        <a (click)="toggleSuccess()"><span class="icon"><i class="fas fa-times-circle"></i></span></a>
    </div>
  </div>
<div class="justify-contents">
  <div class="left">
    <form class="form" [formGroup]="changeNameForm">
      <input type="text" class="form-control" formControlName='name' placeholder = "Your Full Name" /> <br />
      <button class="button button-primary" (click)="changeName()" [disabled]="!changeNameForm.valid" [ngClass]="{'disabled': !changeNameForm.valid}">
        <span class="icon"><i class="fas fa-exchange-alt"></i></span> Change Name
      </button>
    </form>
  </div>
  <div class="right">
    <app-change-profile-image></app-change-profile-image>
  </div>
</div>

<hr />

<p class = "title"><span class="icon"><i class="fas fa-key"></i></span> Password</p>
<p class="subtitle">Change your current password.</p>

<div class="message message-danger has-close" [ngClass]="{'hidden': !show_error}">
  <div class="message-text">
      {{errorMessage}}
  </div>
  <div class="close-btn">
      <a (click)="toggleMessage()"><span class="icon"><i class="fas fa-times-circle"></i></span></a>
  </div>
</div>

<form class="form is-50" [formGroup]="passwordChangeForm">
  <p class="label">Enter your current password:</p>
  <input type="password" class="form-control" formControlName="old_password" placeholder="Current Password" (keyup)="validateForm()" />
  <p class="label">Enter new password:</p>
  <input type="password" class="form-control has-warning" formControlName="new_password" placeholder="New Password" (keyup)="validateForm()" />
  <div class="warning" [ngClass]="{'hidden': !show_invalid_pwd_warning}">
    <p>Invalid password format. A valid password must contain:</p>
      <ul>
        <li>Minimum 8 characters</li>
        <li>Minimum one lowercase and one upper case letter</li>
        <li>Atleast one number</li>
        <li>At least one special character</li>
      </ul>
  </div>

  <p class="label">Re-enter new password:</p>
  <input type="password" class="form-control has-warning" formControlName="re_new_password" placeholder="Re-Type New Password" (keyup)="validateForm()"/>
  <div class="warning" [ngClass]="{'hidden': !show_pwd_notmatch_warning}">
    <p>Password didn't match!</p>
  </div>

  <button (click)="submitForm()" class="button button-primary" [disabled]='disable_submit' [ngClass]="{'disabled': disable_submit}">
      <span class="icon"><i class="fas fa-exchange-alt"></i></span> Change
  </button>
</form>

<hr />

<p class="title" style="color: red;"><span class="icon"><i class="fas fa-skull-crossbones"></i></span> Danger Zone</p>
<p class="subtitle">Once you click the delete account button, then all your information will be deleted permanently.</p>

<input style="margin-bottom: 0.3rem;" *ngIf="deleteAccountClicked" type="password" [(ngModel)]="pwd" placeholder="Enter your password" /><br />
<button class="button button-danger" (click)="deleteAccount()"><span class="icon"><i class="fas fa-minus-circle"></i></span> Delete Account</button>

